<div class="ratings-section">
    @if (ratings.length > 0) {
    <div class="ratings-list">
        @for (rating of ratings.slice(0, maxDisplay); track rating.id) {
        <div class="rating-card" [routerLink]="['/events', rating.eventId]">
            <div class="rating-header">
                <span class="event-title">{{ rating.eventTitle }}</span>
                <div class="rating-stars">
                    @for (star of [1,2,3,4,5]; track star) {
                    <svg class="star-icon" [class.filled]="star <= rating.rating" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <polygon
                            points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2">
                        </polygon>
                    </svg>
                    }
                </div>
            </div>
            @if (rating.comment) {
            <p class="rating-comment">"{{ rating.comment }}"</p>
            }
            <span class="rating-date">{{ rating.createdAt | date:'mediumDate' }}</span>
        </div>
        }
    </div>
    @if (ratings.length > maxDisplay) {
    <button class="show-more-btn" (click)="toggleShowAll()">
        {{ showAll ? 'Show Less' : 'Show All (' + ratings.length + ')' }}
    </button>
    }
    } @else {
    <p class="empty">No ratings yet. Attend events and share your experience!</p>
    }
</div>
